import jakarta.enterprise.context.ApplicationScoped;
import jakarta.inject.Inject;
import org.eclipse.microprofile.rest.client.inject.RestClient;
import java.util.List;

@ApplicationScoped
public class AccountService {

    @Inject
    @RestClient
    AccountRestClient accountRestClient;  // Inject REST client

    public Account findAccountById(int accountId) {
        return accountRestClient.getAccount(accountId);
    }

    public List<Account> getAllAccounts() {
        return accountRestClient.getAllAccounts();
    }
}


quarkus.rest-client."com.example.client.AccountRestClient".url=http://localhost:8081
quarkus.rest-client."com.example.client.AccountRestClient".scope=ApplicationScoped


import org.eclipse.microprofile.rest.client.inject.RegisterRestClient;
import jakarta.ws.rs.GET;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.PathParam;
import java.util.List;

@Path("/accounts")  // Path relative to the base URL
@RegisterRestClient // Do not specify baseUri here, use properties instead
public interface AccountRestClient {

    @GET
    @Path("/{id}")
    Account getAccount(@PathParam("id") int id);

    @GET
    List<Account> getAllAccounts();
}



import org.eclipse.microprofile.graphql.*;

import jakarta.enterprise.context.ApplicationScoped;

@GraphQLApi  // Defines a GraphQL API
@ApplicationScoped
public class BankService {

    @Query
    public String bankInfo() {
        return "Welcome to the Bank API!";
    }

    @Query
    public double getInterestRate() {
        return 7.5;
    }
}


import org.eclipse.microprofile.graphql.*;
import jakarta.enterprise.context.ApplicationScoped;
import jakarta.inject.Inject;

@GraphQLApi
@ApplicationScoped
public class BankService {

    @Inject
    BankServiceImpl bankServiceImpl;  // Inject BankServiceImpl

    @Query
    @Name("getBankInfo")
    public String bankInfo() {
        return bankServiceImpl.getBankInfo(); // Call the service method
    }

    @Query
    @Name("interestRate")
    public double getInterestRate() {
        return bankServiceImpl.getInterestRate(); // Call the service method
    }
}
